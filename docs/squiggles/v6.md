$$
\begin{align}
&\text{Optional types}& T &::= A \mid \bot_{T} \\
&\text{Base types}& C &::= \mathsf{Atom} \mid \mathsf{Nil} \mid \mathsf{Bool} \mid \mathsf{Number}\\
&&&\mid \mathsf{Binary} \mid \mathsf{Date} \mid \mathsf{PID} \mid \mathsf{Ref} \\
&\text{Types}& A, B &::= C \\ 
&&&\mid \mathsf{List}[A] \mid \mathsf{Tuple}[\widetilde{A}] \mid \mathsf{Map}[C, A] \\
&&&\mid (\widetilde{A}) \rightarrow B \\ 
&&&\mid \mathsf{Handler}(S^?) \\ 
&&&\mid \mathsf{InitHandler}(S) \\ 
\\ \\
&\text{Optional session types}&Q &::= S \mid \bot_{S} \\
&\text{Session types}&S &::= \mathsf{end} \mid S^! \mid S^? \mid h \\
&\text{Output session types}&S^! &::= \oplus p:\{l_i(A_i).S_i\}_{i \in I} \\
&\text{Input session types}&S^? &::= \& p:\{l_i(A_i).S_i\}_{i \in I}\\
\end{align}
$$